package com.increase.api.models

import java.time.LocalDate
import java.time.OffsetDateTime
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

class WireTransferTest {

    @Test
    fun createWireTransfer() {
        val wireTransfer =
            WireTransfer.builder()
                .id("string")
                .messageToRecipient("string")
                .amount(123L)
                .currency(WireTransfer.Currency.CAD)
                .accountNumber("string")
                .beneficiaryName("string")
                .beneficiaryAddressLine1("string")
                .beneficiaryAddressLine2("string")
                .beneficiaryAddressLine3("string")
                .accountId("string")
                .externalAccountId("string")
                .routingNumber("string")
                .approval(
                    WireTransfer.Approval.builder()
                        .approvedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .approvedBy("string")
                        .build()
                )
                .cancellation(
                    WireTransfer.Cancellation.builder()
                        .canceledAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .canceledBy("string")
                        .build()
                )
                .reversal(
                    WireTransfer.Reversal.builder()
                        .amount(123L)
                        .createdAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .description("string")
                        .inputCycleDate(LocalDate.parse("2019-12-27"))
                        .inputSequenceNumber("string")
                        .inputSource("string")
                        .inputMessageAccountabilityData("string")
                        .previousMessageInputMessageAccountabilityData("string")
                        .previousMessageInputCycleDate(LocalDate.parse("2019-12-27"))
                        .previousMessageInputSequenceNumber("string")
                        .previousMessageInputSource("string")
                        .receiverFinancialInstitutionInformation("string")
                        .financialInstitutionToFinancialInstitutionInformation("string")
                        .transactionId("string")
                        .build()
                )
                .createdAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .network(WireTransfer.Network.WIRE)
                .status(WireTransfer.Status.CANCELED)
                .submission(
                    WireTransfer.Submission.builder()
                        .inputMessageAccountabilityData("string")
                        .submittedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .build()
                )
                .transactionId("string")
                .type(WireTransfer.Type.WIRE_TRANSFER)
                .build()
        assertThat(wireTransfer).isNotNull
        assertThat(wireTransfer.id()).isEqualTo("string")
        assertThat(wireTransfer.messageToRecipient()).contains("string")
        assertThat(wireTransfer.amount()).isEqualTo(123L)
        assertThat(wireTransfer.currency()).isEqualTo(WireTransfer.Currency.CAD)
        assertThat(wireTransfer.accountNumber()).isEqualTo("string")
        assertThat(wireTransfer.beneficiaryName()).contains("string")
        assertThat(wireTransfer.beneficiaryAddressLine1()).contains("string")
        assertThat(wireTransfer.beneficiaryAddressLine2()).contains("string")
        assertThat(wireTransfer.beneficiaryAddressLine3()).contains("string")
        assertThat(wireTransfer.accountId()).isEqualTo("string")
        assertThat(wireTransfer.externalAccountId()).contains("string")
        assertThat(wireTransfer.routingNumber()).isEqualTo("string")
        assertThat(wireTransfer.approval())
            .contains(
                WireTransfer.Approval.builder()
                    .approvedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .approvedBy("string")
                    .build()
            )
        assertThat(wireTransfer.cancellation())
            .contains(
                WireTransfer.Cancellation.builder()
                    .canceledAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .canceledBy("string")
                    .build()
            )
        assertThat(wireTransfer.reversal())
            .contains(
                WireTransfer.Reversal.builder()
                    .amount(123L)
                    .createdAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .description("string")
                    .inputCycleDate(LocalDate.parse("2019-12-27"))
                    .inputSequenceNumber("string")
                    .inputSource("string")
                    .inputMessageAccountabilityData("string")
                    .previousMessageInputMessageAccountabilityData("string")
                    .previousMessageInputCycleDate(LocalDate.parse("2019-12-27"))
                    .previousMessageInputSequenceNumber("string")
                    .previousMessageInputSource("string")
                    .receiverFinancialInstitutionInformation("string")
                    .financialInstitutionToFinancialInstitutionInformation("string")
                    .transactionId("string")
                    .build()
            )
        assertThat(wireTransfer.createdAt())
            .isEqualTo(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(wireTransfer.network()).isEqualTo(WireTransfer.Network.WIRE)
        assertThat(wireTransfer.status()).isEqualTo(WireTransfer.Status.CANCELED)
        assertThat(wireTransfer.submission())
            .contains(
                WireTransfer.Submission.builder()
                    .inputMessageAccountabilityData("string")
                    .submittedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .build()
            )
        assertThat(wireTransfer.transactionId()).contains("string")
        assertThat(wireTransfer.type()).isEqualTo(WireTransfer.Type.WIRE_TRANSFER)
    }
}
